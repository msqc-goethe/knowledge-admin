{"version":3,"file":"calendar-month-picker.component.js","sourceRoot":"","sources":["../../../../../../../../.ng_build/theme/components/calendar-kit/components/calendar-month-picker/calendar-month-picker.component.ts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,OAAO,EACL,uBAAuB,EACvB,SAAS,EACT,YAAY,EACZ,WAAW,EACX,KAAK,EAEL,MAAM,GAGP,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AACtC,OAAO,EAAkB,cAAc,EAAwB,MAAM,aAAa,CAAC;AACnF,OAAO,EAAE,4BAA4B,EAAE,MAAM,iCAAiC,CAAC;AAC/E,OAAO,EAAE,aAAa,EAAE,MAAM,6BAA6B,CAAC;AAE5D,MAAM,CAAC,MAAM,cAAc,GAAG,EAAE,CAAC;AACjC,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAAC,CAAC;AAmBlC,MAAM,OAAO,8BAA8B;IAuBzC,YAAsB,WAA6B;QAA7B,gBAAW,GAAX,WAAW,CAAkB;QAhB1C,SAAI,GAAmB,cAAc,CAAC,MAAM,CAAC;QAa5C,gBAAW,GAAoB,IAAI,YAAY,EAAE,CAAC;QAY5D,kBAAa,GAAmC,4BAA4B,CAAC;IAR7E,CAAC;IAED,IACI,cAAc,CAAC,aAAyC;QAC1D,IAAI,aAAa,EAAE;YACjB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;SACpC;IACH,CAAC;IAGD,IACI,KAAK;QACP,OAAO,IAAI,CAAC,IAAI,KAAK,cAAc,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,WAAW,CAAC,OAAsB;QAChC,IAAI,OAAO,CAAC,KAAK,EAAE;YACjB,IAAI,CAAC,UAAU,EAAE,CAAC;SACnB;IACH,CAAC;IAED,UAAU;QACR,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAClD,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAClD,MAAM,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;QAC9D,MAAM,MAAM,GAAG,CAAE,UAAU,CAAE,CAAC;QAE9B,KAAK,IAAI,UAAU,GAAG,CAAC,EAAE,UAAU,GAAG,cAAc,EAAE,UAAU,EAAE,EAAE;YAClE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC,CAAC;SAChE;QAED,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;IAChD,CAAC;IAED,QAAQ,CAAC,KAAQ;QACf,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;;;YA7EF,SAAS,SAAC;gBACT,QAAQ,EAAE,0BAA0B;gBACpC,QAAQ,EAAE;;;;;;;;;;;;GAYT;gBACD,eAAe,EAAE,uBAAuB,CAAC,MAAM;aAChD;;;YArBQ,aAAa;;;kBAwBnB,KAAK;kBAEL,KAAK;qBAEL,KAAK;mBACL,KAAK;oBAML,KAAK;mBAKL,KAAK;0BAEL,MAAM;6BAMN,KAAK,SAAC,eAAe;oBAQrB,WAAW,SAAC,kBAAkB","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  EventEmitter,\n  HostBinding,\n  Input,\n  OnChanges,\n  Output,\n  Type,\n  SimpleChanges,\n} from '@angular/core';\nimport { batch } from '../../helpers';\nimport { NbCalendarCell, NbCalendarSize, NbCalendarSizeValues } from '../../model';\nimport { NbCalendarMonthCellComponent } from './calendar-month-cell.component';\nimport { NbDateService } from '../../services/date.service';\n\nexport const MONTHS_IN_VIEW = 12;\nexport const MONTHS_IN_COLUMN = 4;\n\n@Component({\n  selector: 'nb-calendar-month-picker',\n  template: `\n    <nb-calendar-picker\n      [data]=\"months\"\n      [min]=\"min\"\n      [max]=\"max\"\n      [filter]=\"filter\"\n      [selectedValue]=\"date\"\n      [visibleDate]=\"month\"\n      [cellComponent]=\"cellComponent\"\n      [size]=\"size\"\n      (select)=\"onSelect($event)\">\n    </nb-calendar-picker>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class NbCalendarMonthPickerComponent<D, T> implements OnChanges {\n\n  @Input() min: D;\n\n  @Input() max: D;\n\n  @Input() filter: (D) => boolean;\n  @Input() size: NbCalendarSize = NbCalendarSize.MEDIUM;\n  static ngAcceptInputType_size: NbCalendarSizeValues;\n\n  /**\n   * Visible month\n   **/\n  @Input() month: D;\n\n  /**\n   * Selected date\n   **/\n  @Input() date: D;\n\n  @Output() monthChange: EventEmitter<D> = new EventEmitter();\n  months: D[][];\n\n  constructor(protected dateService: NbDateService<D>) {\n  }\n\n  @Input('cellComponent')\n  set _cellComponent(cellComponent: Type<NbCalendarCell<D, T>>) {\n    if (cellComponent) {\n      this.cellComponent = cellComponent;\n    }\n  }\n  cellComponent: Type<NbCalendarCell<any, any>> = NbCalendarMonthCellComponent;\n\n  @HostBinding('class.size-large')\n  get large() {\n    return this.size === NbCalendarSize.LARGE;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.month) {\n      this.initMonths();\n    }\n  }\n\n  initMonths() {\n    const date = this.dateService.getDate(this.month);\n    const year = this.dateService.getYear(this.month);\n    const firstMonth = this.dateService.createDate(year, 0, date);\n    const months = [ firstMonth ];\n\n    for (let monthIndex = 1; monthIndex < MONTHS_IN_VIEW; monthIndex++) {\n      months.push(this.dateService.addMonth(firstMonth, monthIndex));\n    }\n\n    this.months = batch(months, MONTHS_IN_COLUMN);\n  }\n\n  onSelect(month: D) {\n    this.monthChange.emit(month);\n  }\n}\n"]}