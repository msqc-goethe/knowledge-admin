{"version":3,"file":"auth.module.js","sourceRoot":"","sources":["../../../../.ng_build/auth/auth.module.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injector, ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { HttpRequest } from '@angular/common/http';\n\nimport {\n  NbAlertModule,\n  NbButtonModule,\n  NbCardModule,\n  NbCheckboxModule,\n  NbIconModule,\n  NbInputModule,\n  NbLayoutModule,\n} from '@nebular/theme';\n\nimport { NbAuthService } from './services/auth.service';\nimport { NbAuthSimpleToken, NbAuthTokenClass } from './services/token/token';\nimport { NbTokenLocalStorage, NbTokenStorage } from './services/token/token-storage';\nimport { NbTokenService } from './services/token/token.service';\nimport { NbAuthTokenParceler, NB_AUTH_FALLBACK_TOKEN } from './services/token/token-parceler';\nimport { NbAuthStrategy } from './strategies/auth-strategy';\nimport { NbAuthStrategyOptions } from './strategies/auth-strategy-options';\nimport { NbDummyAuthStrategy } from './strategies/dummy/dummy-strategy';\nimport { NbOAuth2AuthStrategy } from './strategies/oauth2/oauth2-strategy';\nimport { NbPasswordAuthStrategy } from './strategies/password/password-strategy';\n\nimport {\n  defaultAuthOptions,\n  NB_AUTH_INTERCEPTOR_HEADER,\n  NB_AUTH_OPTIONS,\n  NB_AUTH_STRATEGIES,\n  NB_AUTH_TOKEN_INTERCEPTOR_FILTER,\n  NB_AUTH_TOKENS,\n  NB_AUTH_USER_OPTIONS,\n  NbAuthOptions,\n  NbAuthStrategyClass,\n} from './auth.options';\n\nimport { NbAuthComponent } from './components/auth.component';\n\nimport { NbAuthBlockComponent } from './components/auth-block/auth-block.component';\nimport { NbLoginComponent } from './components/login/login.component';\nimport { NbRegisterComponent } from './components/register/register.component';\nimport { NbLogoutComponent } from './components/logout/logout.component';\nimport { NbRequestPasswordComponent } from './components/request-password/request-password.component';\nimport { NbResetPasswordComponent } from './components/reset-password/reset-password.component';\n\nimport { deepExtend } from './helpers';\n\nexport function nbStrategiesFactory(options: NbAuthOptions, injector: Injector): NbAuthStrategy[] {\n  const strategies = [];\n  options.strategies\n    .forEach(([strategyClass, strategyOptions]: [NbAuthStrategyClass, NbAuthStrategyOptions]) => {\n      const strategy: NbAuthStrategy = injector.get(strategyClass);\n      strategy.setOptions(strategyOptions);\n\n      strategies.push(strategy);\n    });\n  return strategies;\n}\n\nexport function nbTokensFactory(strategies: NbAuthStrategy[]): NbAuthTokenClass[] {\n  const tokens = [];\n  strategies\n    .forEach((strategy: NbAuthStrategy) => {\n      tokens.push(strategy.getOption('token.class'));\n    });\n  return tokens;\n}\n\nexport function nbOptionsFactory(options) {\n  return deepExtend(defaultAuthOptions, options);\n}\n\nexport function nbNoOpInterceptorFilter(req: HttpRequest<any>): boolean {\n  return true;\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    NbLayoutModule,\n    NbCardModule,\n    NbCheckboxModule,\n    NbAlertModule,\n    NbInputModule,\n    NbButtonModule,\n    RouterModule,\n    FormsModule,\n    NbIconModule,\n  ],\n  declarations: [\n    NbAuthComponent,\n    NbAuthBlockComponent,\n    NbLoginComponent,\n    NbRegisterComponent,\n    NbRequestPasswordComponent,\n    NbResetPasswordComponent,\n    NbLogoutComponent,\n  ],\n  exports: [\n    NbAuthComponent,\n    NbAuthBlockComponent,\n    NbLoginComponent,\n    NbRegisterComponent,\n    NbRequestPasswordComponent,\n    NbResetPasswordComponent,\n    NbLogoutComponent,\n  ],\n})\nexport class NbAuthModule {\n  static forRoot(nbAuthOptions?: NbAuthOptions): ModuleWithProviders<NbAuthModule> {\n    return {\n      ngModule: NbAuthModule,\n      providers: [\n        { provide: NB_AUTH_USER_OPTIONS, useValue: nbAuthOptions },\n        { provide: NB_AUTH_OPTIONS, useFactory: nbOptionsFactory, deps: [NB_AUTH_USER_OPTIONS] },\n        { provide: NB_AUTH_STRATEGIES, useFactory: nbStrategiesFactory, deps: [NB_AUTH_OPTIONS, Injector] },\n        { provide: NB_AUTH_TOKENS, useFactory: nbTokensFactory, deps: [NB_AUTH_STRATEGIES] },\n        { provide: NB_AUTH_FALLBACK_TOKEN, useValue: NbAuthSimpleToken },\n        { provide: NB_AUTH_INTERCEPTOR_HEADER, useValue: 'Authorization' },\n        { provide: NB_AUTH_TOKEN_INTERCEPTOR_FILTER, useValue: nbNoOpInterceptorFilter },\n        { provide: NbTokenStorage, useClass: NbTokenLocalStorage },\n        NbAuthTokenParceler,\n        NbAuthService,\n        NbTokenService,\n        NbDummyAuthStrategy,\n        NbPasswordAuthStrategy,\n        NbOAuth2AuthStrategy,\n      ],\n    };\n  }\n}\n"]}